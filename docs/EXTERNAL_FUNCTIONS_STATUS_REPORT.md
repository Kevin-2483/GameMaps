# ğŸ”§ å¤–éƒ¨å‡½æ•°å®ç°çŠ¶æ€æŠ¥å‘Š

## ğŸ“Š å½“å‰å®ç°çŠ¶æ€ (2025å¹´6æœˆ17æ—¥)

### âœ… **å®Œå…¨å¯ç”¨çš„å¤–éƒ¨å‡½æ•°** (8ä¸ª)

#### åŸºç¡€å·¥å…·å‡½æ•°
- `log(message)` - æ—¥å¿—è¾“å‡º âœ…
- `print(message)` - è°ƒè¯•è¾“å‡º âœ…

#### æ•°å­¦å‡½æ•°
- `sin(x)`, `cos(x)`, `tan(x)` - ä¸‰è§’å‡½æ•° âœ…
- `sqrt(x)`, `pow(x, y)`, `abs(x)` - æ•°å­¦è®¡ç®— âœ…
- `random()` - éšæœºæ•°ç”Ÿæˆ âœ…

#### æ•°æ®è®¿é—®å‡½æ•°ï¼ˆåªè¯»ï¼‰
- `getLayers()` - è·å–æ‰€æœ‰å›¾å±‚ âœ…
- `getLayerById(id)` - æ ¹æ®IDè·å–å›¾å±‚ âœ…
- `getElementsInLayer(layerId)` - è·å–å›¾å±‚ä¸­çš„å…ƒç´  âœ…
- `getAllElements()` - è·å–æ‰€æœ‰ç»˜å›¾å…ƒç´  âœ…
- `countElements(type?)` - ç»Ÿè®¡å…ƒç´ æ•°é‡ âœ…
- `calculateTotalArea()` - è®¡ç®—æ€»é¢ç§¯ âœ…

### ğŸŸ¡ **éƒ¨åˆ†å®ç°çš„å¤–éƒ¨å‡½æ•°** (å·²å®šä¹‰ä½†åŠŸèƒ½ä¸å®Œæ•´)

#### å…ƒç´ ä¿®æ”¹å‡½æ•°
- `updateElementProperty(id, property, value)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦å“åº”å¼é›†æˆ
- `moveElement(id, newPosition)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦å“åº”å¼é›†æˆ

#### æ–‡æœ¬å…ƒç´ å‡½æ•°
- `createTextElement(params)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦å“åº”å¼é›†æˆ
- `updateTextContent(id, content)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦å“åº”å¼é›†æˆ
- `updateTextSize(id, size)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦å“åº”å¼é›†æˆ
- `getTextElements()` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦æ•°æ®è®¿é—®
- `findTextElementsByContent(content)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦æ•°æ®è®¿é—®

#### æ–‡ä»¶æ“ä½œå‡½æ•°
- `readjson(filename)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦VFSé›†æˆ
- `writetext(filename, content)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦VFSé›†æˆ

#### ä¾¿ç­¾ç›¸å…³å‡½æ•°
- `getStickyNotes()` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦æ•°æ®è®¿é—®
- `getStickyNoteById(id)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦æ•°æ®è®¿é—®
- `getElementsInStickyNote(id)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦æ•°æ®è®¿é—®
- `filterStickyNotesByTags(tags)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦æ•°æ®è®¿é—®
- `filterStickyNoteElementsByTags(tags)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦æ•°æ®è®¿é—®

#### å›¾ä¾‹ç›¸å…³å‡½æ•°
- `getLegendGroups()` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦æ•°æ®è®¿é—®
- `getLegendGroupById(id)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦æ•°æ®è®¿é—®
- `updateLegendGroup(id, params)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦å“åº”å¼é›†æˆ
- `updateLegendGroupVisibility(id, visible)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦å“åº”å¼é›†æˆ
- `updateLegendGroupOpacity(id, opacity)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦å“åº”å¼é›†æˆ
- `getLegendItems()` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦æ•°æ®è®¿é—®
- `getLegendItemById(id)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦æ•°æ®è®¿é—®
- `updateLegendItem(id, params)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦å“åº”å¼é›†æˆ
- `filterLegendGroupsByTags(tags)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦æ•°æ®è®¿é—®
- `filterLegendItemsByTags(tags)` - ğŸŸ¡ å·²å®šä¹‰ï¼Œéœ€è¦æ•°æ®è®¿é—®

### âŒ **å°šæœªå®ç°çš„æ ¸å¿ƒåŠŸèƒ½**

#### è„šæœ¬æ‰§è¡Œå¼•æ“
- **Hetu Script è§£é‡Šå™¨é›†æˆ** - éš”ç¦»ç¯å¢ƒä¸­ç¼ºå°‘è„šæœ¬è§£é‡Šå™¨
- **çœŸæ­£çš„å¼‚æ­¥éš”ç¦»æ‰§è¡Œ** - å½“å‰åªæ˜¯æ¨¡æ‹Ÿæ‰§è¡Œ
- **æ¶ˆæ¯ä¼ é€’æœºåˆ¶** - å¤–éƒ¨å‡½æ•°è°ƒç”¨æ²¡æœ‰çœŸæ­£é€šè¿‡æ¶ˆæ¯ä¼ é€’

#### é«˜çº§åŠŸèƒ½
- `filterElements(predicate)` - âŒ éœ€è¦é‡æ–°è®¾è®¡ï¼ˆå‡½æ•°ä¼ é€’é—®é¢˜ï¼‰
- `say(text)` - âŒ è¯­éŸ³åˆæˆï¼Œéœ€è¦å¹³å°APIé›†æˆ
- åŠ¨ç”»å’Œå®šæ—¶å™¨å‡½æ•° - âŒ éœ€è¦è·¨çº¿ç¨‹çŠ¶æ€ç®¡ç†

## ğŸ¯ **å½“å‰å¯ç”¨æ€§æ€»ç»“**

### âœ… **å¯ä»¥ç«‹å³ä½¿ç”¨**ï¼š
```javascript
// è¿™äº›å‡½æ•°å¯ä»¥åœ¨è„šæœ¬ä¸­æ­£å¸¸ä½¿ç”¨
log("Hello from script!");
var layers = getLayers();
var count = countElements();
var area = calculateTotalArea();
var randomValue = random();
var result = sin(3.14159);
```

### ğŸŸ¡ **å®šä¹‰äº†ä½†æ•ˆæœæœ‰é™**ï¼š
```javascript
// è¿™äº›å‡½æ•°å¯ä»¥è°ƒç”¨ï¼Œä½†ä¸ä¼šäº§ç”Ÿå®é™…çš„UIæ›´æ–°
updateElementProperty("element-id", "color", "red");  // è°ƒç”¨æˆåŠŸä½†UIä¸æ›´æ–°
createTextElement({text: "Hello", x: 100, y: 100});   // è°ƒç”¨æˆåŠŸä½†ä¸åˆ›å»ºå…ƒç´ 
```

### âŒ **æ— æ³•ä½¿ç”¨**ï¼š
```javascript
// è¿™äº›åŠŸèƒ½å°šæœªå®ç°
filterElements(function(element) { return element.type === "circle"; });  // æŠ¥é”™
say("Hello world");  // æŠ¥é”™
```

## ğŸš§ **ä¸‹ä¸€æ­¥å®ç°è®¡åˆ’**

### ä¼˜å…ˆçº§ 1ï¼šæ ¸å¿ƒæ‰§è¡Œå¼•æ“
1. **é›†æˆ Hetu Script è§£é‡Šå™¨**åˆ°éš”ç¦»ç¯å¢ƒ
2. **å®ç°çœŸæ­£çš„æ¶ˆæ¯ä¼ é€’æœºåˆ¶**
3. **è¿æ¥å¤–éƒ¨å‡½æ•°åˆ°å“åº”å¼æ•°æ®æµ**

### ä¼˜å…ˆçº§ 2ï¼šæ•°æ®è®¿é—®å®Œå–„
1. **å®ç°æ‰€æœ‰ä¾¿ç­¾ç›¸å…³å‡½æ•°**
2. **å®ç°æ‰€æœ‰å›¾ä¾‹ç›¸å…³å‡½æ•°**
3. **å®Œå–„æ–‡ä»¶æ“ä½œå‡½æ•°**

### ä¼˜å…ˆçº§ 3ï¼šæ•°æ®ä¿®æ”¹åŠŸèƒ½
1. **è¿æ¥å…ƒç´ ä¿®æ”¹å‡½æ•°åˆ°MapDataBloc**
2. **å®ç°æ–‡æœ¬å…ƒç´ åˆ›å»ºå’Œç¼–è¾‘**
3. **å®ç°å›¾ä¾‹å’Œä¾¿ç­¾çš„ä¿®æ”¹åŠŸèƒ½**

## ğŸ“ **ä½¿ç”¨å»ºè®®**

å½“å‰é˜¶æ®µï¼Œæ¨èä½¿ç”¨ä»¥ä¸‹æ¨¡å¼ï¼š

```javascript
// å®‰å…¨ä½¿ç”¨çš„è„šæœ¬ç¤ºä¾‹
log("å¼€å§‹è„šæœ¬æ‰§è¡Œ");

// æ•°æ®æŸ¥è¯¢ï¼ˆå®Œå…¨å¯ç”¨ï¼‰
var layers = getLayers();
log("æ‰¾åˆ° " + layers.length + " ä¸ªå›¾å±‚");

var elements = getAllElements();
log("æ‰¾åˆ° " + elements.length + " ä¸ªå…ƒç´ ");

// æ•°å­¦è®¡ç®—ï¼ˆå®Œå…¨å¯ç”¨ï¼‰
var totalArea = calculateTotalArea();
log("æ€»é¢ç§¯: " + totalArea);

// ç»Ÿè®¡åˆ†æï¼ˆå®Œå…¨å¯ç”¨ï¼‰
var circleCount = countElements("circle");
log("åœ†å½¢å…ƒç´ æ•°é‡: " + circleCount);

log("è„šæœ¬æ‰§è¡Œå®Œæˆ");
```

**å»ºè®®é¿å…ä½¿ç”¨**éœ€è¦ä¿®æ”¹æ•°æ®çš„å‡½æ•°ï¼Œç›´åˆ°æ¶ˆæ¯ä¼ é€’æœºåˆ¶å®Œå…¨å®ç°ã€‚
